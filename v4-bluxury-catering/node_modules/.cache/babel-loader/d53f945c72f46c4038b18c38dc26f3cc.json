{"ast":null,"code":"var _jsxFileName = \"/Users/Cooper/Bluxury_Catering/v4-bluxury-catering/src/components/Memory.jsx\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport SearchBox from \"../common/SearchBox\";\nimport Filter from \"../common/Filter\";\nimport ProductsGrid from \"../common/ProductsGrid\"; // import { ProductsContext } from \"../contexts/ProductsContext\";\n\nimport PopupMsg from \"./PopupMsg\";\nimport { AdminContext } from \"../contexts/AdminContext\";\nimport useFetchProducts from \"../customHook/useFectchProducts\";\nimport memoryLogoWithText from \"../assets/memoryLogoWithText.JPG\";\nimport memoryLogo from \"../assets/memoryLogo.png\";\n\nconst Memory = () => {\n  const products = useFetchProducts(\"memory\", \"memoryProducts\");\n  const {\n    admin\n  } = useContext(AdminContext);\n  const categories = [\"生乳捲\", \"生乳塔\", \"常溫蛋糕\", \"節慶禮盒\", \"其他商品\"];\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedGenre, setSelectedGenre] = useState(\"全部商品\");\n  const [searchResults, setSearchResults] = useState([]);\n\n  const handleSearchChange = e => {\n    setSearchTerm(e.target.value);\n    setSelectedGenre(\"全部商品\");\n  };\n\n  const handleItemCategoryChange = category => {\n    setSelectedGenre(category);\n    setSearchTerm(\"\");\n  };\n\n  useEffect(() => {\n    let results = products;\n    if (searchTerm) results = products.filter(product => product.title.toLowerCase().includes(searchTerm.toLowerCase()));else if (selectedGenre === \"全部商品\") results = products;else if (selectedGenre) {\n      results = products.filter(product => product.category === selectedGenre);\n    }\n    setSearchResults(results);\n  }, [products, searchTerm, selectedGenre]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      alignItems: \"baseline\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, admin && /*#__PURE__*/React.createElement(PopupMsg, {\n    src: \"https://scontent.ftpe12-1.fna.fbcdn.net/v/t31.0-0/p206x206/22712353_648259815562546_9040069549059309313_o.jpg?_nc_cat=104&_nc_sid=09cbfe&_nc_ohc=4RxqhClM2n0AX9KLJX_&_nc_ht=scontent.ftpe12-1.fna&_nc_tp=6&oh=c2710cb7a11d7c2f90527348f4d35902&oe=5F624FE0\",\n    categories: categories,\n    doc: \"memory\",\n    collection: \"memoryProducts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex mt-2\",\n    style: {\n      justifyContent: \"center\",\n      backgroundColor: \"white\",\n      alignItems: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: memoryLogo,\n    alt: \"memoryLogo\",\n    width: \"100px\",\n    height: \"80px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    src: memoryLogoWithText,\n    alt: \"memoryLogoWithText\",\n    width: \"250px\",\n    height: \"100px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-8\",\n    style: {\n      paddingTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Filter, {\n    products: products,\n    categories: categories,\n    selectedGenre: selectedGenre,\n    onClick: handleItemCategoryChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-4\",\n    style: {\n      paddingTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SearchBox, {\n    products: products,\n    value: searchTerm,\n    onChange: handleSearchChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(ProductsGrid, {\n    searchResults: searchResults,\n    categories: categories,\n    doc: \"memory\",\n    collection: \"memoryProducts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default Memory;","map":{"version":3,"sources":["/Users/Cooper/Bluxury_Catering/v4-bluxury-catering/src/components/Memory.jsx"],"names":["React","useContext","useState","useEffect","SearchBox","Filter","ProductsGrid","PopupMsg","AdminContext","useFetchProducts","memoryLogoWithText","memoryLogo","Memory","products","admin","categories","searchTerm","setSearchTerm","selectedGenre","setSelectedGenre","searchResults","setSearchResults","handleSearchChange","e","target","value","handleItemCategoryChange","category","results","filter","product","title","toLowerCase","includes","alignItems","justifyContent","backgroundColor","paddingTop"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport SearchBox from \"../common/SearchBox\";\nimport Filter from \"../common/Filter\";\nimport ProductsGrid from \"../common/ProductsGrid\";\n// import { ProductsContext } from \"../contexts/ProductsContext\";\nimport PopupMsg from \"./PopupMsg\";\nimport { AdminContext } from \"../contexts/AdminContext\";\nimport useFetchProducts from \"../customHook/useFectchProducts\";\nimport memoryLogoWithText from \"../assets/memoryLogoWithText.JPG\";\nimport memoryLogo from \"../assets/memoryLogo.png\";\n\nconst Memory = () => {\n  const products = useFetchProducts(\"memory\", \"memoryProducts\");\n  const { admin } = useContext(AdminContext);\n\n  const categories = [\"生乳捲\", \"生乳塔\", \"常溫蛋糕\", \"節慶禮盒\", \"其他商品\"];\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedGenre, setSelectedGenre] = useState(\"全部商品\");\n  const [searchResults, setSearchResults] = useState([]);\n\n  const handleSearchChange = (e) => {\n    setSearchTerm(e.target.value);\n    setSelectedGenre(\"全部商品\");\n  };\n  const handleItemCategoryChange = (category) => {\n    setSelectedGenre(category);\n    setSearchTerm(\"\");\n  };\n  useEffect(() => {\n    let results = products;\n    if (searchTerm)\n      results = products.filter((product) =>\n        product.title.toLowerCase().includes(searchTerm.toLowerCase())\n      );\n    else if (selectedGenre === \"全部商品\") results = products;\n    else if (selectedGenre) {\n      results = products.filter(\n        (product) => product.category === selectedGenre\n      );\n    }\n    setSearchResults(results);\n  }, [products, searchTerm, selectedGenre]);\n\n  return (\n    <div style={{ alignItems: \"baseline\" }}>\n      {admin && (\n        <PopupMsg\n          src={\n            \"https://scontent.ftpe12-1.fna.fbcdn.net/v/t31.0-0/p206x206/22712353_648259815562546_9040069549059309313_o.jpg?_nc_cat=104&_nc_sid=09cbfe&_nc_ohc=4RxqhClM2n0AX9KLJX_&_nc_ht=scontent.ftpe12-1.fna&_nc_tp=6&oh=c2710cb7a11d7c2f90527348f4d35902&oe=5F624FE0\"\n          }\n          categories={categories}\n          doc=\"memory\"\n          collection=\"memoryProducts\"\n        />\n      )}\n      <div\n        className=\"d-flex mt-2\"\n        style={{\n          justifyContent: \"center\",\n          backgroundColor: \"white\",\n          alignItems: \"center\",\n        }}\n      >\n        <img src={memoryLogo} alt=\"memoryLogo\" width=\"100px\" height=\"80px\" />\n        <img\n          src={memoryLogoWithText}\n          alt=\"memoryLogoWithText\"\n          width=\"250px\"\n          height=\"100px\"\n        />\n      </div>\n\n      <div className=\"row\">\n        <div className=\"col-sm-8\" style={{ paddingTop: \"20px\" }}>\n          <Filter\n            products={products}\n            categories={categories}\n            selectedGenre={selectedGenre}\n            onClick={handleItemCategoryChange}\n          />\n        </div>\n        <div className=\"col-sm-4\" style={{ paddingTop: \"20px\" }}>\n          <SearchBox\n            products={products}\n            value={searchTerm}\n            onChange={handleSearchChange}\n          />\n        </div>\n      </div>\n      <ProductsGrid\n        searchResults={searchResults}\n        categories={categories}\n        doc=\"memory\"\n        collection=\"memoryProducts\"\n      />\n    </div>\n  );\n};\n\nexport default Memory;\n"]},"metadata":{},"sourceType":"module"}