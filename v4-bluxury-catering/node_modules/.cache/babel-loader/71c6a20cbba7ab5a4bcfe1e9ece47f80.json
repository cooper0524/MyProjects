{"ast":null,"code":"import _slicedToArray from\"/Users/Cooper/Bluxury_Catering/bluxury-catering copy 3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{createContext,useState,useEffect}from\"react\";import firebase,{auth}from\"../services/firebase\";export var AdminContext=createContext();var AdminContextProvider=function AdminContextProvider(_ref){var children=_ref.children;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),admin=_useState2[0],setAdmin=_useState2[1];useEffect(function(){var unlisten=auth.onAuthStateChanged(function(user){if(user){firebase.firestore().collection(\"users\").doc(user.uid).get().then(function(doc){if(doc.exists){setAdmin(doc.data().admin);}else{// doc.data() will be undefined in this case\nconsole.log(\"No such document!\");}}).catch(function(error){console.log(\"Error getting document:\",error);});}});return function(){unlisten();};});return/*#__PURE__*/React.createElement(AdminContext.Provider,{value:{admin:admin}},children);};export default AdminContextProvider;","map":{"version":3,"sources":["/Users/Cooper/Bluxury_Catering/bluxury-catering copy 3/src/contexts/AdminContext.jsx"],"names":["React","createContext","useState","useEffect","firebase","auth","AdminContext","AdminContextProvider","children","admin","setAdmin","unlisten","onAuthStateChanged","user","firestore","collection","doc","uid","get","then","exists","data","console","log","catch","error"],"mappings":"6KAAA,MAAOA,CAAAA,KAAP,EAAgBC,aAAhB,CAA+BC,QAA/B,CAAyCC,SAAzC,KAA0D,OAA1D,CACA,MAAOC,CAAAA,QAAP,EAAmBC,IAAnB,KAA+B,sBAA/B,CAEA,MAAO,IAAMC,CAAAA,YAAY,CAAGL,aAAa,EAAlC,CAEP,GAAMM,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,MAAkB,IAAfC,CAAAA,QAAe,MAAfA,QAAe,eACnBN,QAAQ,CAAC,KAAD,CADW,wCACtCO,KADsC,eAC/BC,QAD+B,eAG7CP,SAAS,CAAC,UAAM,CACd,GAAMQ,CAAAA,QAAQ,CAAGN,IAAI,CAACO,kBAAL,CAAwB,SAACC,IAAD,CAAU,CACjD,GAAIA,IAAJ,CAAU,CACRT,QAAQ,CACLU,SADH,GAEGC,UAFH,CAEc,OAFd,EAGGC,GAHH,CAGOH,IAAI,CAACI,GAHZ,EAIGC,GAJH,GAKGC,IALH,CAKQ,SAAUH,GAAV,CAAe,CACnB,GAAIA,GAAG,CAACI,MAAR,CAAgB,CACdV,QAAQ,CAACM,GAAG,CAACK,IAAJ,GAAWZ,KAAZ,CAAR,CACD,CAFD,IAEO,CACL;AACAa,OAAO,CAACC,GAAR,CAAY,mBAAZ,EACD,CACF,CAZH,EAaGC,KAbH,CAaS,SAAUC,KAAV,CAAiB,CACtBH,OAAO,CAACC,GAAR,CAAY,yBAAZ,CAAuCE,KAAvC,EACD,CAfH,EAgBD,CACF,CAnBgB,CAAjB,CAqBA,MAAO,WAAM,CACXd,QAAQ,GACT,CAFD,CAGD,CAzBQ,CAAT,CA0BA,mBACE,oBAAC,YAAD,CAAc,QAAd,EAAuB,KAAK,CAAE,CAAEF,KAAK,CAALA,KAAF,CAA9B,EAA0CD,QAA1C,CADF,CAGD,CAhCD,CAkCA,cAAeD,CAAAA,oBAAf","sourcesContent":["import React, { createContext, useState, useEffect } from \"react\";\nimport firebase, { auth } from \"../services/firebase\";\n\nexport const AdminContext = createContext();\n\nconst AdminContextProvider = ({ children }) => {\n  const [admin, setAdmin] = useState(false);\n\n  useEffect(() => {\n    const unlisten = auth.onAuthStateChanged((user) => {\n      if (user) {\n        firebase\n          .firestore()\n          .collection(\"users\")\n          .doc(user.uid)\n          .get()\n          .then(function (doc) {\n            if (doc.exists) {\n              setAdmin(doc.data().admin);\n            } else {\n              // doc.data() will be undefined in this case\n              console.log(\"No such document!\");\n            }\n          })\n          .catch(function (error) {\n            console.log(\"Error getting document:\", error);\n          });\n      }\n    });\n\n    return () => {\n      unlisten();\n    };\n  });\n  return (\n    <AdminContext.Provider value={{ admin }}>{children}</AdminContext.Provider>\n  );\n};\n\nexport default AdminContextProvider;\n"]},"metadata":{},"sourceType":"module"}