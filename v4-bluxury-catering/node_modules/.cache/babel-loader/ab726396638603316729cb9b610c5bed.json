{"ast":null,"code":"import _toConsumableArray from\"/Users/Cooper/Bluxury_Catering/bluxury-catering copy 3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/Cooper/Bluxury_Catering/bluxury-catering copy 3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";var Storage=function Storage(cartItems){localStorage.setItem(\"cart\",JSON.stringify(cartItems.length>0?cartItems:[]));};export var sumItems=function sumItems(cartItems){Storage(cartItems);var itemCount=cartItems.reduce(function(total,product){return total+product.quantity;},0);var total=cartItems.reduce(function(total,product){return total+product.price*product.quantity;},0);return{itemCount:itemCount,total:total};};export var CartReducer=function CartReducer(state,action){switch(action.type){case\"ADD_ITEM\":if(!state.cartItems.find(function(item){return item.id===action.payload.id;})){state.cartItems.push(_objectSpread(_objectSpread({},action.payload),{},{quantity:1}));}return _objectSpread(_objectSpread(_objectSpread({},state),sumItems(state.cartItems)),{},{cartItems:_toConsumableArray(state.cartItems)});case\"REMOVE_ITEM\":return _objectSpread(_objectSpread(_objectSpread({},state),sumItems(state.cartItems.filter(function(item){return item.id!==action.payload.id;}))),{},{cartItems:_toConsumableArray(state.cartItems.filter(function(item){return item.id!==action.payload.id;}))});case\"INCREASE\":state.cartItems[state.cartItems.findIndex(function(item){return item.id===action.payload.id;})].quantity++;return _objectSpread(_objectSpread(_objectSpread({},state),sumItems(state.cartItems)),{},{cartItems:_toConsumableArray(state.cartItems)});case\"DECREASE\":state.cartItems[state.cartItems.findIndex(function(item){return item.id===action.payload.id;})].quantity--;return _objectSpread(_objectSpread(_objectSpread({},state),sumItems(state.cartItems)),{},{cartItems:_toConsumableArray(state.cartItems)});case\"CHECKOUT\":return _objectSpread({cartItems:[],checkout:true},sumItems([]));case\"CLEAR\":return _objectSpread({cartItems:[]},sumItems([]));default:return state;}};","map":{"version":3,"sources":["/Users/Cooper/Bluxury_Catering/bluxury-catering copy 3/src/contexts/CartReducer.jsx"],"names":["Storage","cartItems","localStorage","setItem","JSON","stringify","length","sumItems","itemCount","reduce","total","product","quantity","price","CartReducer","state","action","type","find","item","id","payload","push","filter","findIndex","checkout"],"mappings":"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","sourcesContent":["const Storage = (cartItems) => {\n  localStorage.setItem(\n    \"cart\",\n    JSON.stringify(cartItems.length > 0 ? cartItems : [])\n  );\n};\n\nexport const sumItems = (cartItems) => {\n  Storage(cartItems);\n  let itemCount = cartItems.reduce(\n    (total, product) => total + product.quantity,\n    0\n  );\n  let total = cartItems.reduce(\n    (total, product) => total + product.price * product.quantity,\n    0\n  );\n  return { itemCount, total };\n};\n\nexport const CartReducer = (state, action) => {\n  switch (action.type) {\n    case \"ADD_ITEM\":\n      if (!state.cartItems.find((item) => item.id === action.payload.id)) {\n        state.cartItems.push({\n          ...action.payload,\n          quantity: 1,\n        });\n      }\n\n      return {\n        ...state,\n        ...sumItems(state.cartItems),\n        cartItems: [...state.cartItems],\n      };\n    case \"REMOVE_ITEM\":\n      return {\n        ...state,\n        ...sumItems(\n          state.cartItems.filter((item) => item.id !== action.payload.id)\n        ),\n        cartItems: [\n          ...state.cartItems.filter((item) => item.id !== action.payload.id),\n        ],\n      };\n    case \"INCREASE\":\n      state.cartItems[\n        state.cartItems.findIndex((item) => item.id === action.payload.id)\n      ].quantity++;\n      return {\n        ...state,\n        ...sumItems(state.cartItems),\n        cartItems: [...state.cartItems],\n      };\n    case \"DECREASE\":\n      state.cartItems[\n        state.cartItems.findIndex((item) => item.id === action.payload.id)\n      ].quantity--;\n      return {\n        ...state,\n        ...sumItems(state.cartItems),\n        cartItems: [...state.cartItems],\n      };\n    case \"CHECKOUT\":\n      return {\n        cartItems: [],\n        checkout: true,\n        ...sumItems([]),\n      };\n    case \"CLEAR\":\n      return {\n        cartItems: [],\n        ...sumItems([]),\n      };\n    default:\n      return state;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}