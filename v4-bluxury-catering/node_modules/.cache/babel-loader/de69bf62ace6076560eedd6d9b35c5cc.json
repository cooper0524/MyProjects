{"ast":null,"code":"import React from\"react\";import firebase,{storage}from\"../services/firebase\";import EditItem from\"../components/EditItem\";var ProductItem=function ProductItem(_ref){var product=_ref.product,categories=_ref.categories;var productId=product.id;var handleDelete=function handleDelete(){firebase.firestore().collection(\"products\").doc(productId).delete();var imageRef=storage.refFromURL(product.url);imageRef.delete().then(function(){console.log(\"Deleted\");}).catch(function(err){return console.log(err);});};return/*#__PURE__*/React.createElement(\"div\",{className:\"card card-body text-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(EditItem,{product:product,productId:productId,categories:categories}),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-danger btn-sm mr-0 ml-auto\",onClick:handleDelete},\"X\")),/*#__PURE__*/React.createElement(\"img\",{style:{display:\"block\",margin:\"10px auto 10px\",height:\"200px\"},className:\"img-fluid\",alt:\"prdImg\",src:product.url}),/*#__PURE__*/React.createElement(\"h6\",null,product.title),!product.xPrice&&/*#__PURE__*/React.createElement(\"h5\",{className:\"text-center\"},\" $ \",product.price,\" \"),product.xPrice&&/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"del\",{className:\"strike \",style:{paddingRight:\"20px\"}},\" \",\"$ \",product.price,\" \"),/*#__PURE__*/React.createElement(\"h5\",{className:\"text-center\",style:{color:\"red\"}},\" \",\"\\u7279\\u50F9 $ \",product.xPrice,\" \")),/*#__PURE__*/React.createElement(\"button\",{href:\"#\",className:\"btn btn-outline-dark\"},\"\\u52A0\\u5165\\u8CFC\\u7269\\u8ECA\"));};export default ProductItem;","map":{"version":3,"sources":["/Users/Cooper/Bluxury_Catering/bluxury-catering/src/common/ProductItem.jsx"],"names":["React","firebase","storage","EditItem","ProductItem","product","categories","productId","id","handleDelete","firestore","collection","doc","delete","imageRef","refFromURL","url","then","console","log","catch","err","display","margin","height","title","xPrice","price","paddingRight","color"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,EAAmBC,OAAnB,KAAkC,sBAAlC,CAEA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAA6B,IAA1BC,CAAAA,OAA0B,MAA1BA,OAA0B,CAAjBC,UAAiB,MAAjBA,UAAiB,CAC/C,GAAMC,CAAAA,SAAS,CAAGF,OAAO,CAACG,EAA1B,CACA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBR,QAAQ,CAACS,SAAT,GAAqBC,UAArB,CAAgC,UAAhC,EAA4CC,GAA5C,CAAgDL,SAAhD,EAA2DM,MAA3D,GACA,GAAIC,CAAAA,QAAQ,CAAGZ,OAAO,CAACa,UAAR,CAAmBV,OAAO,CAACW,GAA3B,CAAf,CACAF,QAAQ,CACLD,MADH,GAEGI,IAFH,CAEQ,UAAM,CACVC,OAAO,CAACC,GAAR,CAAY,SAAZ,EACD,CAJH,EAKGC,KALH,CAKS,SAACC,GAAD,QAASH,CAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ,CAAT,EALT,EAMD,CATD,CAWA,mBACE,2BAAK,SAAS,CAAC,4BAAf,eACE,2BAAK,SAAS,CAAC,QAAf,eACE,oBAAC,QAAD,EACE,OAAO,CAAEhB,OADX,CAEE,SAAS,CAAEE,SAFb,CAGE,UAAU,CAAED,UAHd,EADF,cAME,8BACE,SAAS,CAAC,oCADZ,CAEE,OAAO,CAAEG,YAFX,MANF,CADF,cAeE,2BACE,KAAK,CAAE,CACLa,OAAO,CAAE,OADJ,CAELC,MAAM,CAAE,gBAFH,CAGLC,MAAM,CAAE,OAHH,CADT,CAME,SAAS,CAAC,WANZ,CAOE,GAAG,CAAC,QAPN,CAQE,GAAG,CAAEnB,OAAO,CAACW,GARf,EAfF,cAyBE,8BAAKX,OAAO,CAACoB,KAAb,CAzBF,CA0BG,CAACpB,OAAO,CAACqB,MAAT,eAAmB,0BAAI,SAAS,CAAC,aAAd,QAAgCrB,OAAO,CAACsB,KAAxC,KA1BtB,CA2BGtB,OAAO,CAACqB,MAAR,eACC,2BAAK,SAAS,CAAC,+BAAf,eACE,2BAAK,SAAS,CAAC,SAAf,CAAyB,KAAK,CAAE,CAAEE,YAAY,CAAE,MAAhB,CAAhC,EACG,GADH,MAEKvB,OAAO,CAACsB,KAFb,CAEoB,GAFpB,CADF,cAKE,0BAAI,SAAS,CAAC,aAAd,CAA4B,KAAK,CAAE,CAAEE,KAAK,CAAE,KAAT,CAAnC,EACG,GADH,mBAEQxB,OAAO,CAACqB,MAFhB,CAEwB,GAFxB,CALF,CA5BJ,cAwCE,8BAAQ,IAAI,CAAC,GAAb,CAAiB,SAAS,CAAC,sBAA3B,mCAxCF,CADF,CA8CD,CA3DD,CA6DA,cAAetB,CAAAA,WAAf","sourcesContent":["import React from \"react\";\nimport firebase, { storage } from \"../services/firebase\";\n\nimport EditItem from \"../components/EditItem\";\n\nconst ProductItem = ({ product, categories }) => {\n  const productId = product.id;\n  const handleDelete = () => {\n    firebase.firestore().collection(\"products\").doc(productId).delete();\n    let imageRef = storage.refFromURL(product.url);\n    imageRef\n      .delete()\n      .then(() => {\n        console.log(\"Deleted\");\n      })\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <div className=\"card card-body text-center\">\n      <div className=\"d-flex\">\n        <EditItem\n          product={product}\n          productId={productId}\n          categories={categories}\n        />\n        <button\n          className=\"btn btn-danger btn-sm mr-0 ml-auto\"\n          onClick={handleDelete}\n        >\n          X\n        </button>\n      </div>\n\n      <img\n        style={{\n          display: \"block\",\n          margin: \"10px auto 10px\",\n          height: \"200px\",\n        }}\n        className=\"img-fluid\"\n        alt=\"prdImg\"\n        src={product.url}\n      />\n      <h6>{product.title}</h6>\n      {!product.xPrice && <h5 className=\"text-center\"> $ {product.price} </h5>}\n      {product.xPrice && (\n        <div className=\"d-flex justify-content-center\">\n          <del className=\"strike \" style={{ paddingRight: \"20px\" }}>\n            {\" \"}\n            $ {product.price}{\" \"}\n          </del>\n          <h5 className=\"text-center\" style={{ color: \"red\" }}>\n            {\" \"}\n            特價 $ {product.xPrice}{\" \"}\n          </h5>\n        </div>\n      )}\n\n      <button href=\"#\" className=\"btn btn-outline-dark\">\n        加入購物車\n      </button>\n    </div>\n  );\n};\n\nexport default ProductItem;\n"]},"metadata":{},"sourceType":"module"}