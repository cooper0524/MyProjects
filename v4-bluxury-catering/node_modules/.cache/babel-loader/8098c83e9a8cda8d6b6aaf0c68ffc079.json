{"ast":null,"code":"var _jsxFileName = \"/Users/Cooper/Bluxury_Catering/bluxury-catering/src/components/ProductForm.jsx\";\nimport React, { useState } from \"react\";\nimport { Button, Form } from \"react-bootstrap\";\nimport firebase from \"../services/firebase\";\nimport Joi from \"joi-browser\";\n\nvalidate = () => {\n  const options = {\n    abortEarly: false\n  };\n  const {\n    error\n  } = Joi.validate(this.state.data, this.schema, options);\n  if (!error) return null;\n  const errors = {};\n\n  for (let item of error.details) errors[item.path[0]] = item.message;\n\n  return errors;\n};\n\nvalidateProperty = ({\n  name,\n  value\n}) => {\n  const obj = {\n    [name]: value\n  };\n  const schema = {\n    [name]: this.schema[name]\n  };\n  const {\n    error\n  } = Joi.validate(obj, schema);\n  return error ? error.details[0].message : null;\n};\n\nschema = {\n  title: Joi.string().required().label(\"Username\"),\n  category: Joi.string().required().label(\"Password\")\n};\n\nconst ProductForm = ({\n  categories,\n  onSubmit\n}) => {\n  const [image, setImage] = useState(null);\n  const [title, setTitle] = useState(\"\");\n  const [category, setCategory] = useState(categories[0]);\n  const [price, setPrice] = useState(0);\n  const [xPrice, setXPrice] = useState(null);\n\n  const handleImgUpload = event => {\n    setImage(URL.createObjectURL(event.target.files[0]));\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (title.trim() === \"\") {\n      alert(\"?\");\n    } else {\n      firebase.firestore().collection(\"products\").add({\n        title,\n        category,\n        price,\n        xPrice\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Form, {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: image || \"https://via.placeholder.com/300\",\n    alt: \"productImg\",\n    height: \"200px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Form.File, {\n    id: \"exampleFormControlFile1\",\n    label: \"\\u9078\\u53D6\\u5716\\u7247\",\n    onChange: handleImgUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"productTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, \"\\u7522\\u54C1\\u540D\\u7A31\"), /*#__PURE__*/React.createElement(Form.Control, {\n    value: title,\n    onChange: e => setTitle(e.currentTarget.value),\n    require: \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"productCategory\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, \"\\u7522\\u54C1\\u985E\\u5225\"), /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"select\",\n    value: category,\n    onChange: e => setCategory(e.currentTarget.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, categories.map(category => /*#__PURE__*/React.createElement(\"option\", {\n    key: category,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, category)))), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"productPrice\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, \"\\u539F\\u50F9\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"number\",\n    onChange: e => setPrice(e.currentTarget.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"productXPrice\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, \"\\u7279\\u50F9\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"number\",\n    placeholder: \"\\u7121\\u7279\\u50F9\\u8ACB\\u7A7A\\u767D\",\n    onChange: e => setXPrice(e.currentTarget.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    type: \"button\",\n    onClick: handleSubmit,\n    block: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, \"\\u65B0\\u589E\"));\n};\n\nexport default ProductForm;","map":{"version":3,"sources":["/Users/Cooper/Bluxury_Catering/bluxury-catering/src/components/ProductForm.jsx"],"names":["React","useState","Button","Form","firebase","Joi","validate","options","abortEarly","error","state","data","schema","errors","item","details","path","message","validateProperty","name","value","obj","title","string","required","label","category","ProductForm","categories","onSubmit","image","setImage","setTitle","setCategory","price","setPrice","xPrice","setXPrice","handleImgUpload","event","URL","createObjectURL","target","files","handleSubmit","e","preventDefault","trim","alert","firestore","collection","add","currentTarget","map"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Button, Form } from \"react-bootstrap\";\nimport firebase from \"../services/firebase\";\nimport Joi from \"joi-browser\";\n\nvalidate = () => {\n  const options = { abortEarly: false };\n  const { error } = Joi.validate(this.state.data, this.schema, options);\n  if (!error) return null;\n\n  const errors = {};\n  for (let item of error.details) errors[item.path[0]] = item.message;\n  return errors;\n};\n\nvalidateProperty = ({ name, value }) => {\n  const obj = { [name]: value };\n  const schema = { [name]: this.schema[name] };\n  const { error } = Joi.validate(obj, schema);\n  return error ? error.details[0].message : null;\n};\n\nschema = {\n  title: Joi.string().required().label(\"Username\"),\n  category: Joi.string().required().label(\"Password\"),\n};\n\nconst ProductForm = ({ categories, onSubmit }) => {\n  const [image, setImage] = useState(null);\n  const [title, setTitle] = useState(\"\");\n  const [category, setCategory] = useState(categories[0]);\n  const [price, setPrice] = useState(0);\n  const [xPrice, setXPrice] = useState(null);\n  const handleImgUpload = (event) => {\n    setImage(URL.createObjectURL(event.target.files[0]));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (title.trim() === \"\") {\n      alert(\"?\");\n    } else {\n      firebase\n        .firestore()\n        .collection(\"products\")\n        .add({ title, category, price, xPrice });\n    }\n  };\n\n  return (\n    <Form onSubmit={onSubmit}>\n      <Form.Group>\n        <img\n          src={image || \"https://via.placeholder.com/300\"}\n          alt=\"productImg\"\n          height=\"200px\"\n        />\n        <Form.File\n          id=\"exampleFormControlFile1\"\n          label=\"選取圖片\"\n          onChange={handleImgUpload}\n        />\n      </Form.Group>\n      <Form.Group controlId=\"productTitle\">\n        <Form.Label>產品名稱</Form.Label>\n        <Form.Control\n          value={title}\n          onChange={(e) => setTitle(e.currentTarget.value)}\n          require=\"true\"\n        />\n      </Form.Group>\n      <Form.Group controlId=\"productCategory\">\n        <Form.Label>產品類別</Form.Label>\n        <Form.Control\n          as=\"select\"\n          value={category}\n          onChange={(e) => setCategory(e.currentTarget.value)}\n        >\n          {categories.map((category) => (\n            <option key={category}>{category}</option>\n          ))}\n        </Form.Control>\n      </Form.Group>\n      <Form.Group controlId=\"productPrice\">\n        <Form.Label>原價</Form.Label>\n        <Form.Control\n          type=\"number\"\n          onChange={(e) => setPrice(e.currentTarget.value)}\n        />\n      </Form.Group>\n      <Form.Group controlId=\"productXPrice\">\n        <Form.Label>特價</Form.Label>\n        <Form.Control\n          type=\"number\"\n          placeholder=\"無特價請空白\"\n          onChange={(e) => setXPrice(e.currentTarget.value)}\n        />\n      </Form.Group>\n      <Button variant=\"primary\" type=\"button\" onClick={handleSubmit} block>\n        新增\n      </Button>\n    </Form>\n  );\n};\n\nexport default ProductForm;\n"]},"metadata":{},"sourceType":"module"}