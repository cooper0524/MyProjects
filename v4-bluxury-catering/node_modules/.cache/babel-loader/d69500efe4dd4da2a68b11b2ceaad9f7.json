{"ast":null,"code":"var _jsxFileName = \"/Users/Cooper/Bluxury_Catering/bluxury-catering/src/components/Memory.jsx\";\nimport React, { useContext } from \"react\";\nimport SearchBox from \"../common/SearchBox\";\nimport Filter from \"../common/Filter\";\nimport ProductsGrid from \"../common/ProductsGrid\";\nimport { ProductsContext } from \"../contexts/ProductsContext\";\nimport styles from \"../common/ProductsGrid.module.scss\";\n\nconst Memory = () => {\n  const {\n    products\n  } = useContext(ProductsContext);\n  const [searchTerm, setSearchTerm] = React.useState(\"\");\n  const [selectedGenre, setSelectedGenre] = React.useState(\"全部商品\");\n  const [searchResults, setSearchResults] = React.useState([]);\n  const categories = [];\n  products.forEach(function (item) {\n    if (categories.indexOf(item.category) < 0) {\n      categories.push(item.category);\n    }\n  });\n\n  const handleSearchChange = e => {\n    setSearchTerm(e.target.value);\n    console.log(e.target.value);\n  };\n\n  const handleItemCategoryChange = cate => {\n    console.log(cate);\n  };\n\n  React.useEffect(() => {\n    let results = products;\n    if (searchTerm) results = products.filter(product => product.name.toLowerCase().includes(searchTerm));else if (selectedGenre && selectedGenre.id) results = products.filter(product => product.category === selectedGenre._id);\n    setSearchResults(results);\n  }, [searchTerm]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.p__container,\n    style: {\n      alignItems: \"baseline\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-8\",\n    style: {\n      paddingTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Filter, {\n    categories: categories,\n    selectedGenre: selectedGenre,\n    onClick: handleItemCategoryChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-4\",\n    style: {\n      paddingTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SearchBox, {\n    products: products,\n    value: searchTerm,\n    onChange: handleSearchChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(ProductsGrid, {\n    searchResults: searchResults,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.p__footer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default Memory;","map":{"version":3,"sources":["/Users/Cooper/Bluxury_Catering/bluxury-catering/src/components/Memory.jsx"],"names":["React","useContext","SearchBox","Filter","ProductsGrid","ProductsContext","styles","Memory","products","searchTerm","setSearchTerm","useState","selectedGenre","setSelectedGenre","searchResults","setSearchResults","categories","forEach","item","indexOf","category","push","handleSearchChange","e","target","value","console","log","handleItemCategoryChange","cate","useEffect","results","filter","product","name","toLowerCase","includes","id","_id","p__container","alignItems","paddingTop","p__footer"],"mappings":"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","sourcesContent":["import React, { useContext } from \"react\";\nimport SearchBox from \"../common/SearchBox\";\nimport Filter from \"../common/Filter\";\nimport ProductsGrid from \"../common/ProductsGrid\";\nimport { ProductsContext } from \"../contexts/ProductsContext\";\nimport styles from \"../common/ProductsGrid.module.scss\";\n\nconst Memory = () => {\n  const { products } = useContext(ProductsContext);\n\n  const [searchTerm, setSearchTerm] = React.useState(\"\");\n  const [selectedGenre, setSelectedGenre] = React.useState(\"全部商品\");\n\n  const [searchResults, setSearchResults] = React.useState([]);\n\n  const categories = [];\n  products.forEach(function (item) {\n    if (categories.indexOf(item.category) < 0) {\n      categories.push(item.category);\n    }\n  });\n\n  const handleSearchChange = (e) => {\n    setSearchTerm(e.target.value);\n    console.log(e.target.value);\n  };\n  const handleItemCategoryChange = (cate) => {\n    console.log(cate);\n  };\n  React.useEffect(() => {\n    let results = products;\n    if (searchTerm)\n      results = products.filter((product) =>\n        product.name.toLowerCase().includes(searchTerm)\n      );\n    else if (selectedGenre && selectedGenre.id)\n      results = products.filter(\n        (product) => product.category === selectedGenre._id\n      );\n    setSearchResults(results);\n  }, [searchTerm]);\n\n  return (\n    <div className={styles.p__container} style={{ alignItems: \"baseline\" }}>\n      <div className=\"row\">\n        <div className=\"col-sm-8\" style={{ paddingTop: \"20px\" }}>\n          <Filter\n            categories={categories}\n            selectedGenre={selectedGenre}\n            onClick={handleItemCategoryChange}\n          />\n        </div>\n\n        <div className=\"col-sm-4\" style={{ paddingTop: \"20px\" }}>\n          <SearchBox\n            products={products}\n            value={searchTerm}\n            onChange={handleSearchChange}\n          />\n        </div>\n      </div>\n      <ProductsGrid searchResults={searchResults} />\n      <div className={styles.p__footer}></div>\n    </div>\n  );\n};\n\nexport default Memory;\n"]},"metadata":{},"sourceType":"module"}