{"ast":null,"code":"import _slicedToArray from\"/Users/Cooper/Bluxury_Catering/bluxury-catering/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect}from\"react\";import SearchBox from\"../common/SearchBox\";import Filter from\"../common/Filter\";import ProductsGrid from\"../common/ProductsGrid\";import{ProductsContext}from\"../contexts/ProductsContext\";import PopupMsg from\"./PopupMsg\";var Memory=function Memory(){var _useContext=useContext(ProductsContext),products=_useContext.products;var categories=[\"生乳捲\",\"生乳塔\",\"常溫蛋糕\",\"節慶禮盒\",\"其他商品\"];var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1];var _useState3=useState(\"全部商品\"),_useState4=_slicedToArray(_useState3,2),selectedGenre=_useState4[0],setSelectedGenre=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),searchResults=_useState6[0],setSearchResults=_useState6[1];var handleSearchChange=function handleSearchChange(e){setSearchTerm(e.target.value);setSelectedGenre(null);};var handleItemCategoryChange=function handleItemCategoryChange(category){setSelectedGenre(category);setSearchTerm(\"\");};useEffect(function(){var results=products;if(searchTerm)results=products.filter(function(product){return product.name.toLowerCase().includes(searchTerm.toLowerCase());});else if(selectedGenre===\"全部商品\")results=products;else if(selectedGenre)results=products.filter(function(product){return product.category===selectedGenre;});setSearchResults(results);},[products,searchTerm,selectedGenre]);return/*#__PURE__*/React.createElement(\"div\",{style:{alignItems:\"baseline\"}},/*#__PURE__*/React.createElement(PopupMsg,{categories:categories}),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-8\",style:{paddingTop:\"20px\"}},/*#__PURE__*/React.createElement(Filter,{products:products,selectedGenre:selectedGenre,onClick:handleItemCategoryChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-4\",style:{paddingTop:\"20px\"}},/*#__PURE__*/React.createElement(SearchBox,{products:products,value:searchTerm,onChange:handleSearchChange}))),/*#__PURE__*/React.createElement(ProductsGrid,{searchResults:searchResults,categories:categories}));};export default Memory;","map":{"version":3,"sources":["/Users/Cooper/Bluxury_Catering/bluxury-catering/src/components/Memory.jsx"],"names":["React","useContext","useState","useEffect","SearchBox","Filter","ProductsGrid","ProductsContext","PopupMsg","Memory","products","categories","searchTerm","setSearchTerm","selectedGenre","setSelectedGenre","searchResults","setSearchResults","handleSearchChange","e","target","value","handleItemCategoryChange","category","results","filter","product","name","toLowerCase","includes","alignItems","paddingTop"],"mappings":"sKAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,CAAsCC,SAAtC,KAAuD,OAAvD,CACA,MAAOC,CAAAA,SAAP,KAAsB,qBAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,YAAP,KAAyB,wBAAzB,CACA,OAASC,eAAT,KAAgC,6BAAhC,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,iBACER,UAAU,CAACM,eAAD,CADZ,CACXG,QADW,aACXA,QADW,CAEnB,GAAMC,CAAAA,UAAU,CAAG,CAAC,KAAD,CAAQ,KAAR,CAAe,MAAf,CAAuB,MAAvB,CAA+B,MAA/B,CAAnB,CAFmB,cAGiBT,QAAQ,CAAC,EAAD,CAHzB,wCAGZU,UAHY,eAGAC,aAHA,8BAIuBX,QAAQ,CAAC,MAAD,CAJ/B,yCAIZY,aAJY,eAIGC,gBAJH,8BAKuBb,QAAQ,CAAC,EAAD,CAL/B,yCAKZc,aALY,eAKGC,gBALH,eAOnB,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,CAAD,CAAO,CAChCN,aAAa,CAACM,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,CACAN,gBAAgB,CAAC,IAAD,CAAhB,CACD,CAHD,CAIA,GAAMO,CAAAA,wBAAwB,CAAG,QAA3BA,CAAAA,wBAA2B,CAACC,QAAD,CAAc,CAC7CR,gBAAgB,CAACQ,QAAD,CAAhB,CACAV,aAAa,CAAC,EAAD,CAAb,CACD,CAHD,CAIAV,SAAS,CAAC,UAAM,CACd,GAAIqB,CAAAA,OAAO,CAAGd,QAAd,CACA,GAAIE,UAAJ,CACEY,OAAO,CAAGd,QAAQ,CAACe,MAAT,CAAgB,SAACC,OAAD,QACxBA,CAAAA,OAAO,CAACC,IAAR,CAAaC,WAAb,GAA2BC,QAA3B,CAAoCjB,UAAU,CAACgB,WAAX,EAApC,CADwB,EAAhB,CAAV,CADF,IAIK,IAAId,aAAa,GAAK,MAAtB,CAA8BU,OAAO,CAAGd,QAAV,CAA9B,IACA,IAAII,aAAJ,CACHU,OAAO,CAAGd,QAAQ,CAACe,MAAT,CACR,SAACC,OAAD,QAAaA,CAAAA,OAAO,CAACH,QAAR,GAAqBT,aAAlC,EADQ,CAAV,CAIFG,gBAAgB,CAACO,OAAD,CAAhB,CACD,CAbQ,CAaN,CAACd,QAAD,CAAWE,UAAX,CAAuBE,aAAvB,CAbM,CAAT,CAeA,mBACE,2BAAK,KAAK,CAAE,CAAEgB,UAAU,CAAE,UAAd,CAAZ,eACE,oBAAC,QAAD,EAAU,UAAU,CAAEnB,UAAtB,EADF,cAEE,2BAAK,SAAS,CAAC,KAAf,eACE,2BAAK,SAAS,CAAC,UAAf,CAA0B,KAAK,CAAE,CAAEoB,UAAU,CAAE,MAAd,CAAjC,eACE,oBAAC,MAAD,EACE,QAAQ,CAAErB,QADZ,CAEE,aAAa,CAAEI,aAFjB,CAGE,OAAO,CAAEQ,wBAHX,EADF,CADF,cAQE,2BAAK,SAAS,CAAC,UAAf,CAA0B,KAAK,CAAE,CAAES,UAAU,CAAE,MAAd,CAAjC,eACE,oBAAC,SAAD,EACE,QAAQ,CAAErB,QADZ,CAEE,KAAK,CAAEE,UAFT,CAGE,QAAQ,CAAEM,kBAHZ,EADF,CARF,CAFF,cAkBE,oBAAC,YAAD,EAAc,aAAa,CAAEF,aAA7B,CAA4C,UAAU,CAAEL,UAAxD,EAlBF,CADF,CAsBD,CApDD,CAsDA,cAAeF,CAAAA,MAAf","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport SearchBox from \"../common/SearchBox\";\nimport Filter from \"../common/Filter\";\nimport ProductsGrid from \"../common/ProductsGrid\";\nimport { ProductsContext } from \"../contexts/ProductsContext\";\nimport PopupMsg from \"./PopupMsg\";\n\nconst Memory = () => {\n  const { products } = useContext(ProductsContext);\n  const categories = [\"生乳捲\", \"生乳塔\", \"常溫蛋糕\", \"節慶禮盒\", \"其他商品\"];\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedGenre, setSelectedGenre] = useState(\"全部商品\");\n  const [searchResults, setSearchResults] = useState([]);\n\n  const handleSearchChange = (e) => {\n    setSearchTerm(e.target.value);\n    setSelectedGenre(null);\n  };\n  const handleItemCategoryChange = (category) => {\n    setSelectedGenre(category);\n    setSearchTerm(\"\");\n  };\n  useEffect(() => {\n    let results = products;\n    if (searchTerm)\n      results = products.filter((product) =>\n        product.name.toLowerCase().includes(searchTerm.toLowerCase())\n      );\n    else if (selectedGenre === \"全部商品\") results = products;\n    else if (selectedGenre)\n      results = products.filter(\n        (product) => product.category === selectedGenre\n      );\n\n    setSearchResults(results);\n  }, [products, searchTerm, selectedGenre]);\n\n  return (\n    <div style={{ alignItems: \"baseline\" }}>\n      <PopupMsg categories={categories} />\n      <div className=\"row\">\n        <div className=\"col-sm-8\" style={{ paddingTop: \"20px\" }}>\n          <Filter\n            products={products}\n            selectedGenre={selectedGenre}\n            onClick={handleItemCategoryChange}\n          />\n        </div>\n        <div className=\"col-sm-4\" style={{ paddingTop: \"20px\" }}>\n          <SearchBox\n            products={products}\n            value={searchTerm}\n            onChange={handleSearchChange}\n          />\n        </div>\n      </div>\n      <ProductsGrid searchResults={searchResults} categories={categories} />\n    </div>\n  );\n};\n\nexport default Memory;\n"]},"metadata":{},"sourceType":"module"}