{"ast":null,"code":"var _jsxFileName = \"/Users/Cooper/Bluxury_Catering/bluxury-catering/src/components/ProductForm.jsx\";\nimport React, { useState } from \"react\";\nimport { Button, Form } from \"react-bootstrap\";\nimport firebase from \"../services/firebase\";\nimport Joi from \"joi-browser\";\n\nconst ProductForm = ({\n  categories,\n  onSubmit\n}) => {\n  const [product, setProduct] = useState([]);\n  const [image, setImage] = useState(null);\n  const [title, setTitle] = useState(null);\n  const [category, setCategory] = useState(categories[0]);\n  const [price, setPrice] = useState(null);\n  const [xPrice, setXPrice] = useState(null);\n  const schema = Joi.object().keys({\n    title: Joi.string().required(),\n    category: Joi.string().required()\n  });\n\n  const validate = prop => {\n    const result = Joi.validate(prop, schema);\n    console.log(result);\n  };\n\n  const handleImgUpload = event => {\n    setImage(URL.createObjectURL(event.target.files[0]));\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    validate(title);\n\n    if (title.trim().length() === 0) {\n      alert(\"?\");\n    } else {\n      firebase.firestore().collection(\"products\").add({\n        title,\n        category,\n        price,\n        xPrice\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Form, {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: image || \"https://via.placeholder.com/300\",\n    alt: \"productImg\",\n    height: \"200px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Form.File, {\n    id: \"exampleFormControlFile1\",\n    label: \"\\u9078\\u53D6\\u5716\\u7247\",\n    onChange: handleImgUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"productTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, \"\\u7522\\u54C1\\u540D\\u7A31\"), /*#__PURE__*/React.createElement(Form.Control, {\n    onChange: e => setTitle(e.currentTarget.value),\n    require: \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"productCategory\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, \"\\u7522\\u54C1\\u985E\\u5225\"), /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"select\",\n    value: category,\n    onChange: e => setCategory(e.currentTarget.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, categories.map(category => /*#__PURE__*/React.createElement(\"option\", {\n    key: category,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, category)))), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"productPrice\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, \"\\u539F\\u50F9\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"number\",\n    onChange: e => setPrice(e.currentTarget.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"productXPrice\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, \"\\u7279\\u50F9\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"number\",\n    placeholder: \"\\u7121\\u7279\\u50F9\\u8ACB\\u7A7A\\u767D\",\n    onChange: e => setXPrice(e.currentTarget.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    type: \"button\",\n    onClick: handleSubmit,\n    block: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, \"\\u65B0\\u589E\"));\n};\n\nexport default ProductForm;","map":{"version":3,"sources":["/Users/Cooper/Bluxury_Catering/bluxury-catering/src/components/ProductForm.jsx"],"names":["React","useState","Button","Form","firebase","Joi","ProductForm","categories","onSubmit","product","setProduct","image","setImage","title","setTitle","category","setCategory","price","setPrice","xPrice","setXPrice","schema","object","keys","string","required","validate","prop","result","console","log","handleImgUpload","event","URL","createObjectURL","target","files","handleSubmit","e","preventDefault","trim","length","alert","firestore","collection","add","currentTarget","value","map"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Button, Form } from \"react-bootstrap\";\nimport firebase from \"../services/firebase\";\nimport Joi from \"joi-browser\";\n\nconst ProductForm = ({ categories, onSubmit }) => {\n  const [product, setProduct] = useState([]);\n  const [image, setImage] = useState(null);\n  const [title, setTitle] = useState(null);\n  const [category, setCategory] = useState(categories[0]);\n  const [price, setPrice] = useState(null);\n  const [xPrice, setXPrice] = useState(null);\n\n  const schema = Joi.object().keys({\n    title: Joi.string().required(),\n    category: Joi.string().required(),\n  });\n\n  const validate = (prop) => {\n    const result = Joi.validate(prop, schema);\n    console.log(result);\n  };\n\n  const handleImgUpload = (event) => {\n    setImage(URL.createObjectURL(event.target.files[0]));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    validate(title);\n    if (title.trim().length() === 0) {\n      alert(\"?\");\n    } else {\n      firebase\n        .firestore()\n        .collection(\"products\")\n        .add({ title, category, price, xPrice });\n    }\n  };\n\n  return (\n    <Form onSubmit={onSubmit}>\n      <Form.Group>\n        <img\n          src={image || \"https://via.placeholder.com/300\"}\n          alt=\"productImg\"\n          height=\"200px\"\n        />\n        <Form.File\n          id=\"exampleFormControlFile1\"\n          label=\"選取圖片\"\n          onChange={handleImgUpload}\n        />\n      </Form.Group>\n      <Form.Group controlId=\"productTitle\">\n        <Form.Label>產品名稱</Form.Label>\n        <Form.Control\n          onChange={(e) => setTitle(e.currentTarget.value)}\n          require=\"true\"\n        />\n      </Form.Group>\n      <Form.Group controlId=\"productCategory\">\n        <Form.Label>產品類別</Form.Label>\n        <Form.Control\n          as=\"select\"\n          value={category}\n          onChange={(e) => setCategory(e.currentTarget.value)}\n        >\n          {categories.map((category) => (\n            <option key={category}>{category}</option>\n          ))}\n        </Form.Control>\n      </Form.Group>\n      <Form.Group controlId=\"productPrice\">\n        <Form.Label>原價</Form.Label>\n        <Form.Control\n          type=\"number\"\n          onChange={(e) => setPrice(e.currentTarget.value)}\n        />\n      </Form.Group>\n      <Form.Group controlId=\"productXPrice\">\n        <Form.Label>特價</Form.Label>\n        <Form.Control\n          type=\"number\"\n          placeholder=\"無特價請空白\"\n          onChange={(e) => setXPrice(e.currentTarget.value)}\n        />\n      </Form.Group>\n      <Button variant=\"primary\" type=\"button\" onClick={handleSubmit} block>\n        新增\n      </Button>\n    </Form>\n  );\n};\n\nexport default ProductForm;\n"]},"metadata":{},"sourceType":"module"}